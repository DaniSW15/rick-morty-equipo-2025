import{a as L,b as N,c as $,d as A,e as U,f as G,g as H,h as Q,i as Y,j as q,k as J}from"./chunk-EEOKWDF7.js";import{Ba as u,Fa as _,Ga as M,Hc as T,Ic as R,Jb as w,Ka as P,Kc as V,Lc as B,Ma as O,Mc as D,Na as S,Nc as z,Oa as r,Pa as n,Qa as s,Rb as k,Ua as F,Ub as j,Xa as b,Y as f,Za as m,ca as C,d as g,da as x,hb as i,ib as E,jb as d,kb as y,mb as I,oa as h,pa as o,qa as l,w as v,xa as p}from"./chunk-23FDQ3ZM.js";var Z=(a,e)=>e.id;function tt(a,e){a&1&&(r(0,"div",1),s(1,"mat-spinner",4),n())}function et(a,e){a&1&&(r(0,"div",2)(1,"mat-icon"),i(2,"favorite_border"),n(),r(3,"p"),i(4,"No tienes personajes favoritos"),n(),r(5,"a",5),i(6," Explorar Personajes "),n()())}function nt(a,e){if(a&1){let t=F();r(0,"mat-card",6),s(1,"img",7),r(2,"mat-card-header")(3,"mat-card-title"),i(4),n(),r(5,"mat-card-subtitle"),s(6,"span",8),i(7),n()(),r(8,"mat-card-content")(9,"p")(10,"strong"),i(11,"G\xE9nero:"),n(),i(12),n(),r(13,"p")(14,"strong"),i(15,"Origen:"),n(),i(16),n(),r(17,"p")(18,"strong"),i(19,"Ubicaci\xF3n:"),n(),i(20),n()(),r(21,"mat-card-actions")(22,"button",9),b("click",function(){let W=C(t).$implicit,X=m(2);return x(X.removeFromFavorites(W))}),r(23,"mat-icon"),i(24,"close"),n(),i(25," Quitar de favoritos "),n()()()}if(a&2){let t=e.$implicit,c=m(2);o(),_("src",t.image,h)("alt",t.name),o(3),E(t.name),o(2),M("background-color",c.getStatusColor(t.status)),o(),y(" ",t.status," - ",t.species," "),o(5),d(" ",t.gender,""),o(4),d(" ",t.origin.name,""),o(4),d(" ",t.location.name,"")}}function rt(a,e){if(a&1&&(r(0,"div",3),O(1,nt,26,10,"mat-card",6,Z),n()),a&2){let t=m();o(),S(t.favoriteCharacters())}}var K=class a{constructor(e,t){this.favoritesService=e;this.characterService=t}favoriteCharacters=p([]);loading=p(!1);ngOnInit(){this.loadFavoriteCharacters()}loadFavoriteCharacters(){return g(this,null,function*(){this.loading.set(!0);try{let e=this.favoritesService.getFavorites();if(e.length){let t=yield v(this.characterService.getCharactersByIds(e));this.favoriteCharacters.set(t)}}catch(e){console.error("Error loading favorite characters:",e)}finally{this.loading.set(!1)}})}removeFromFavorites(e){this.favoritesService.removeFavorite(e.id),this.favoriteCharacters.update(t=>t.filter(c=>c.id!==e.id))}getStatusColor(e){switch(e.toLowerCase()){case"alive":return"green";case"dead":return"red";default:return"gray"}}static \u0275fac=function(t){return new(t||a)(l(z),l($))};static \u0275cmp=f({type:a,selectors:[["app-favorites"]],standalone:!0,features:[I],decls:6,vars:1,consts:[[1,"favorites-container"],[1,"loading-spinner"],[1,"no-favorites"],[1,"favorites-grid"],["diameter","50"],["mat-raised-button","","color","primary","routerLink","/characters"],[1,"character-card"],["mat-card-image","",3,"src","alt"],[1,"status-dot"],["mat-stroked-button","","color","warn",1,"remove-favorite-btn",3,"click"]],template:function(t,c){t&1&&(r(0,"div",0)(1,"h1"),i(2,"Mis Personajes Favoritos"),n(),u(3,tt,2,0,"div",1)(4,et,7,0,"div",2)(5,rt,3,0,"div",3),n()),t&2&&(o(3),P(c.loading()?3:c.favoriteCharacters().length===0?4:5))},dependencies:[w,J,A,Q,G,Y,q,H,U,V,R,T,D,B,N,L,j,k],styles:[".favorites-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.favorites-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}.no-favorites[_ngcontent-%COMP%]{text-align:center;padding:40px;background:#f5f5f5;border-radius:8px;margin:20px}.no-favorites[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#999;margin-bottom:16px}.no-favorites[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;color:#666}.favorites-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;padding:20px}.character-card[_ngcontent-%COMP%]{transition:transform .2s}.character-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.character-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px;object-fit:cover}.character-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px}.character-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}.character-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:8px 16px}.character-card[_ngcontent-%COMP%]   .remove-favorite-btn[_ngcontent-%COMP%]{width:100%;margin:8px}.character-card[_ngcontent-%COMP%]   .remove-favorite-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.character-card[_ngcontent-%COMP%]   .remove-favorite-btn[_ngcontent-%COMP%]:hover{background-color:#f44;color:#fff}.status-dot[_ngcontent-%COMP%]{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:8px}"]})};export{K as FavoritesComponent};
